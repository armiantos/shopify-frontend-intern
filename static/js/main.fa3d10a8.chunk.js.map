{"version":3,"sources":["api/OMDb.ts","redux/reducer.ts","redux/actions.ts","components/SearchBar.tsx","components/ClickableMovie.tsx","components/Banner.tsx","theme.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["apiKey","endpoint","searchMovies","title","a","axios","get","params","type","s","res","data","Response","Search","NominateActionType","initialState","nominations","nominate","movie","NOMINATE","remove","REMOVE","useStyles","makeStyles","theme","root","padding","display","alignItems","maxWidth","input","marginLeft","spacing","flex","SearchBar","onSearch","useState","searchTerm","setSearchTerm","classes","Paper","variant","className","color","InputBase","inputProps","onChange","e","target","value","onKeyDown","key","button","ClickableMovie","buttonText","onClick","isClickDisabled","Box","Typography","Title","Year","Button","size","disableElevation","disabled","Banner","content","open","setOpen","Dialog","onClose","DialogContent","DialogContentText","createMuiTheme","typography","fontFamily","join","h1","fontWeight","fontSize","h2","h3","width","marginTop","paper","margin","item","marginBottom","connect","state","dispatch","bindActionCreators","searchResults","setSearchResults","message","setMessage","isMovieNominated","some","nomination","imdbID","useEffect","length","justifyContent","CssBaseline","ThemeProvider","gutterBottom","movies","Grid","container","sm","md","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","persistConfig","storage","persistedReducer","persistReducer","action","filter","nominee","store","createStore","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.fa3d10a8.chunk.js","sourcesContent":["import axios from 'axios';\nimport { Movie, SearchResponse } from './data/SearchResponse';\n\nconst apiKey = 'e287055f';\nconst endpoint = `https://www.omdbapi.com`;\n\nexport async function searchMovies(title: string): Promise<Movie[]> {\n    const res = await axios.get<SearchResponse>(endpoint, {\n        params: {\n            apiKey,\n            type: 'movie',\n            s: title,\n        },\n    });\n\n    // When there are no matching movies from OMDb with given title\n    if (res.data.Response === 'False') {\n        return [];\n    }\n\n    return res.data.Search;\n}\n","import { Movie } from '../api/data/SearchResponse';\n\nexport type State = {\n    nominations: Movie[];\n};\n\nexport enum NominateActionType {\n    NOMINATE = 'NOMINATE',\n    REMOVE = 'REMOVE',\n}\n\nexport type NominateRemoveAction = {\n    type: NominateActionType;\n    movie: Movie;\n};\n\nconst initialState: State = {\n    nominations: [],\n};\n\nexport default function reducer(\n    state = initialState,\n    action: NominateRemoveAction\n): State {\n    switch (action.type) {\n        case NominateActionType.NOMINATE:\n            // Don't add more nominations after 5\n            if (state.nominations.length === 5) {\n                return state;\n            }\n\n            return {\n                ...state,\n                nominations: [...state.nominations, action.movie],\n            };\n        case NominateActionType.REMOVE:\n            return {\n                ...state,\n                nominations: state.nominations.filter(\n                    (nominee) => nominee.imdbID !== action.movie.imdbID\n                ),\n            };\n        default:\n            return state;\n    }\n}\n","import { Movie } from '../api/data/SearchResponse';\nimport { NominateActionType, NominateRemoveAction } from './reducer';\n\nexport function nominate(movie: Movie): NominateRemoveAction {\n    return {\n        type: NominateActionType.NOMINATE,\n        movie,\n    };\n}\n\nexport function remove(movie: Movie): NominateRemoveAction {\n    return {\n        type: NominateActionType.REMOVE,\n        movie,\n    };\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\n\ntype SearchProps = {\n    onSearch: (searchTerm: string) => void;\n};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        maxWidth: 400,\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n}));\n\nexport default function SearchBar({ onSearch }: SearchProps) {\n    const [searchTerm, setSearchTerm] = useState('');\n    const classes = useStyles();\n\n    return (\n        <Paper variant=\"outlined\" className={classes.root}>\n            <SearchIcon color=\"action\" />\n            <InputBase\n                className={classes.input}\n                inputProps={{ 'aria-label': 'Search' }}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                        onSearch(searchTerm);\n                    }\n                }}\n            />\n        </Paper>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Movie } from '../api/data/SearchResponse';\n\ntype ClickableMovieProps = {\n    movie: Movie;\n    buttonText: string;\n    onClick: (movie: Movie) => void;\n    isClickDisabled?: boolean;\n};\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        marginLeft: theme.spacing(1),\n    },\n}));\n\nfunction ClickableMovie({\n    movie,\n    buttonText,\n    onClick,\n    isClickDisabled,\n}: ClickableMovieProps) {\n    const classes = useStyles();\n\n    return (\n        <Box display=\"flex\" alignItems=\"center\">\n            <Typography variant=\"body1\">\n                {movie.Title} ({movie.Year})\n            </Typography>\n            <Button\n                className={classes.button}\n                size=\"small\"\n                disableElevation\n                onClick={() => onClick(movie)}\n                disabled={isClickDisabled ?? false}\n                variant=\"contained\"\n            >\n                {buttonText}\n            </Button>\n        </Box>\n    );\n}\n\nexport default ClickableMovie;\n","import React from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nexport type BannerProps = {\n    content: string;\n    open: boolean;\n    setOpen: (open: boolean) => void;\n};\n\nfunction Banner({ content, open, setOpen }: BannerProps) {\n    return (\n        <Dialog open={open} onClose={() => setOpen(false)}>\n            <DialogContent>\n                <DialogContentText>{content}</DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default Banner;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    typography: {\n        fontFamily: ['Open Sans', '-apple-system', 'sans-serif'].join(','),\n        h1: {\n            fontWeight: 700,\n            fontSize: 48,\n        },\n        h2: {\n            fontWeight: 600,\n            fontSize: 32,\n        },\n        h3: {\n            fontWeight: 400,\n            fontSize: 26,\n        },\n    },\n});\n\nexport default theme;\n","import React, { useEffect, useState } from 'react';\nimport { Movie } from './api/data/SearchResponse';\nimport { searchMovies } from './api/OMDb';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { nominate, remove } from './redux/actions';\n\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport SearchBar from './components/SearchBar';\nimport ClickableMovie from './components/ClickableMovie';\nimport Banner from './components/Banner';\n\nimport './App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\nimport { NominateRemoveAction, State } from './redux/reducer';\n\ntype SearchResults = {\n    title: string;\n    movies: Movie[];\n};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    title: {\n        marginTop: theme.spacing(5),\n    },\n    paper: {\n        padding: theme.spacing(3),\n        margin: theme.spacing(1),\n    },\n    item: {\n        marginBottom: theme.spacing(1),\n    },\n}));\n\nfunction mapStateToProps(state: State) {\n    return {\n        nominations: state.nominations,\n    };\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n    return bindActionCreators({ nominate, remove }, dispatch);\n}\n\ntype AppProps = {\n    nominations: Movie[];\n};\n\ntype DispatchProps = {\n    nominate: (movie: Movie) => NominateRemoveAction;\n    remove: (movie: Movie) => NominateRemoveAction;\n};\n\ntype Props = AppProps & DispatchProps;\n\nfunction App({ nominations, nominate, remove }: Props) {\n    const [searchResults, setSearchResults] = useState<SearchResults>();\n\n    const [open, setOpen] = useState(false);\n    const [message, setMessage] = useState('');\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        if (nominations.length === 5) {\n            setMessage('Thank you! You have nominated 5 movies.');\n            setOpen(true);\n        }\n    }, [nominations]);\n\n    function isMovieNominated(movie: Movie) {\n        return nominations.some(\n            (nomination) => nomination.imdbID === movie.imdbID\n        );\n    }\n\n    return (\n        <Box className={classes.root} display=\"flex\" justifyContent=\"center\">\n            <div className=\"App\">\n                <CssBaseline />\n\n                <ThemeProvider theme={theme}>\n                    <Banner open={open} setOpen={setOpen} content={message} />\n\n                    <header>\n                        <Typography variant=\"h1\" className={classes.title}>\n                            The Shoppies\n                        </Typography>\n                    </header>\n\n                    <Paper className={`Search ${classes.paper}`}>\n                        <Typography variant=\"h3\" gutterBottom>\n                            Movie title\n                        </Typography>\n                        <SearchBar\n                            onSearch={async (title) => {\n                                setSearchResults({\n                                    title,\n                                    movies: await searchMovies(title),\n                                });\n                            }}\n                        />\n                    </Paper>\n\n                    <Grid container>\n                        <Grid item sm={12} md={6}>\n                            <Paper className={`SearchResults ${classes.paper}`}>\n                                <Typography variant=\"h2\" gutterBottom>\n                                    Results for {searchResults?.title}\n                                </Typography>\n                                <ul>\n                                    {searchResults?.movies.map((movie) => (\n                                        <li\n                                            key={movie.imdbID}\n                                            className={classes.item}\n                                        >\n                                            <ClickableMovie\n                                                movie={movie}\n                                                buttonText=\"Nominate\"\n                                                onClick={nominate}\n                                                isClickDisabled={isMovieNominated(\n                                                    movie\n                                                )}\n                                            />\n                                        </li>\n                                    ))}\n                                </ul>\n                            </Paper>\n                        </Grid>\n\n                        <Grid item sm={12} md={6}>\n                            <Paper className={`Nominations ${classes.paper}`}>\n                                <Typography variant=\"h2\" gutterBottom>\n                                    Nominations\n                                </Typography>\n                                <ul>\n                                    {nominations.map((movie) => (\n                                        <li\n                                            key={movie.imdbID}\n                                            className={classes.item}\n                                        >\n                                            <ClickableMovie\n                                                movie={movie}\n                                                buttonText=\"Remove\"\n                                                onClick={remove}\n                                            />\n                                        </li>\n                                    ))}\n                                </ul>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </ThemeProvider>\n            </div>\n        </Box>\n    );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport storage from 'redux-persist/lib/storage';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './redux/reducer';\nimport './index.css';\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n};\nconst persistedReducer = persistReducer(persistConfig, reducer);\nconst store = createStore(persistedReducer as any); // Workaround, TODO: find better solution\nconst persistor = persistStore(store);\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <PersistGate loading={null} persistor={persistor}>\n                <App />\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}